(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[597],{6289(e,r,s){Promise.resolve().then(s.bind(s,9091))},9091(e,r,s){"use strict";function t(){async function e(e,r){try{var s;const t=await e.arrayBuffer(),a=new Uint8Array(t.slice(0,8)),i={png:[137,80,78,71,13,10,26,10],jpeg:[255,216,255],webp:[82,73,70,70],gif:[71,73,70,56]},n=(null===(s=r.split(".").pop())||void 0===s?void 0:s.toLowerCase())||"";return"png"===n&&i.png.every((e,r)=>a[r]===e)||["jpg","jpeg"].includes(n)&&i.jpeg.every((e,r)=>a[r]===e)||"webp"===n&&i.webp.every((e,r)=>a[r]===e)||"gif"===n&&i.gif.every((e,r)=>a[r]===e)}catch(e){return!1}}const[r,t]=(0,i.useState)(""),[n,m]=(0,i.useState)(""),u=(0,i.useRef)(null),x=(0,i.useRef)(null),[p,g]=(0,i.useState)(!1),[h,f]=(0,i.useState)([]),[b,y]=(0,i.useState)({maxSizeMB:1,maxWidthOrHeight:1920,quality:.8}),[j,v]=(0,i.useState)({maxSizeMB:.05,maxWidthOrHeight:1024,quality:.6}),N={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif"};return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("section",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-xl border-b border-border/40",children:(0,a.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"py-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Image Compression Tool"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Compress images in ZIP files or single images efficiently"})]})})})}),(0,a.jsx)("section",{className:"py-8",children:(0,a.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"grid gap-8 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)(d,{className:"h-6 w-6 text-primary mr-2"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-card-foreground",children:"Compress ZIP File"})]}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Upload a ZIP file containing images to compress them while preserving the folder structure."}),(0,a.jsxs)("details",{className:"mb-4",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-sm font-medium text-card-foreground mb-2 hover:text-primary",children:"Compression Options"}),(0,a.jsxs)("div",{className:"space-y-3 mt-2 p-3 bg-muted/50 rounded-md",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"zipMaxSize",className:"block text-xs font-medium text-muted-foreground mb-1",children:"Max Size (MB)"}),(0,a.jsx)("input",{type:"number",id:"zipMaxSize",min:"0.01",max:"10",step:"0.1",value:b.maxSizeMB,onChange(e){return y(r=>({...r,maxSizeMB:parseFloat(e.target.value)||1}))},className:"w-full px-2 py-1 text-sm border border-border rounded bg-background focus:outline-none focus:ring-1 focus:ring-primary/20"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"zipMaxWidth",className:"block text-xs font-medium text-muted-foreground mb-1",children:"Max Width/Height"}),(0,a.jsx)("input",{type:"number",id:"zipMaxWidth",min:"100",max:"4000",step:"50",value:b.maxWidthOrHeight,onChange(e){return y(r=>({...r,maxWidthOrHeight:parseInt(e.target.value)||1920}))},className:"w-full px-2 py-1 text-sm border border-border rounded bg-background focus:outline-none focus:ring-1 focus:ring-primary/20"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"zipQuality",className:"block text-xs font-medium text-muted-foreground mb-1",children:"Quality (0.1 - 1.0)"}),(0,a.jsx)("input",{type:"range",id:"zipQuality",min:"0.1",max:"1.0",step:"0.1",value:b.quality,onChange(e){return y(r=>({...r,quality:parseFloat(e.target.value)}))},className:"w-full"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:b.quality})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"zipInput",className:"block text-sm font-medium text-card-foreground mb-2",children:"Select ZIP File"}),(0,a.jsx)("input",{ref:u,type:"file",id:"zipInput",accept:".zip",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary/30"})]}),(0,a.jsxs)("button",{async onClick(){const r=u.current;if(!r||!r.files||!r.files.length)return void alert("Please select a ZIP file.");const a=r.files[0];t("Processing ZIP file..."),f([]);try{const{default:r}=await Promise.all([s.e(244),s.e(635)]).then(s.t.bind(s,7635,23)),i=(await s.e(937).then(s.bind(s,4937))).default,n=new r,o=await r.loadAsync(a),d={maxSizeMB:b.maxSizeMB,maxWidthOrHeight:b.maxWidthOrHeight,useWebWorker:!0,maxIteration:10,initialQuality:b.quality},l=[],c=[],m=[];o.forEach((r,s)=>{const a=/\.(jpg|jpeg|png|webp|gif)$/i.test(r);!s.dir&&a?c.push(s.async("blob").then(async s=>{try{const a=((e,r)=>{var s;const t=(null===(s=r.split(".").pop())||void 0===s?void 0:s.toLowerCase())||"";return new File([e],r,{type:N[t]||"application/octet-stream"})})(s,r.split("/").pop()||r);if(await e(s,r)){const e=await i(a,d);t(s=>s+"<p>Compressed ".concat(r," (Original: ").concat((a.size/1024).toFixed(2)," KB, Compressed: ").concat((e.size/1024).toFixed(2)," KB)</p>"));const o=URL.createObjectURL(s),c=URL.createObjectURL(e);l.push({name:r.split("/").pop()||r,original:o,compressed:c,originalSize:a.size,compressedSize:e.size}),n.file(r,e)}else m.push("Skipped compression for ".concat(r,": Not a valid image")),n.file(r,s)}catch(e){m.push("Error compressing ".concat(r,": ").concat(e.message)),n.file(r,s)}})):s.dir?s.dir&&r.endsWith("/")&&n.folder(r.slice(0,-1)):c.push(s.async("blob").then(e=>{n.file(r,e)}))}),await Promise.all(c),m.length&&t(e=>e+"<p>Issues encountered:</p><ul>".concat(m.map(e=>"<li>".concat(e,"</li>")).join(""),"</ul>")),t(e=>e+"<p>Generating new ZIP file...</p>");const u=await n.generateAsync({type:"blob",platform:"UNIX"}),x=URL.createObjectURL(u),p=document.createElement("a");p.href=x,p.download="compressed_images.zip",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(x),t(e=>e+"<p>ZIP file with compressed images has been downloaded!</p>"),l.length>0&&(f(l),g(!0))}catch(e){t(r=>r+"<p>Error processing ZIP file: ".concat(e.message,"</p>")),alert("An error occurred while processing the ZIP file.")}},className:"w-full flex items-center justify-center px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200",children:[(0,a.jsx)(l,{className:"h-4 w-4 mr-2"}),"Compress ZIP and Download"]})]}),r&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-muted rounded-md",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:r}})})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)(c,{className:"h-6 w-6 text-primary mr-2"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-card-foreground",children:"Compress Single Image"})]}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Upload a single image file for maximum compression."}),(0,a.jsxs)("details",{className:"mb-4",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-sm font-medium text-card-foreground mb-2 hover:text-primary",children:"Compression Options"}),(0,a.jsxs)("div",{className:"space-y-3 mt-2 p-3 bg-muted/50 rounded-md",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"imageMaxSize",className:"block text-xs font-medium text-muted-foreground mb-1",children:"Max Size (MB)"}),(0,a.jsx)("input",{type:"number",id:"imageMaxSize",min:"0.01",max:"5",step:"0.01",value:j.maxSizeMB,onChange(e){return v(r=>({...r,maxSizeMB:parseFloat(e.target.value)||.05}))},className:"w-full px-2 py-1 text-sm border border-border rounded bg-background focus:outline-none focus:ring-1 focus:ring-primary/20"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"imageMaxWidth",className:"block text-xs font-medium text-muted-foreground mb-1",children:"Max Width/Height"}),(0,a.jsx)("input",{type:"number",id:"imageMaxWidth",min:"100",max:"2000",step:"50",value:j.maxWidthOrHeight,onChange(e){return v(r=>({...r,maxWidthOrHeight:parseInt(e.target.value)||1024}))},className:"w-full px-2 py-1 text-sm border border-border rounded bg-background focus:outline-none focus:ring-1 focus:ring-primary/20"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"imageQuality",className:"block text-xs font-medium text-muted-foreground mb-1",children:"Quality (0.1 - 1.0)"}),(0,a.jsx)("input",{type:"range",id:"imageQuality",min:"0.1",max:"1.0",step:"0.1",value:j.quality,onChange(e){return v(r=>({...r,quality:parseFloat(e.target.value)}))},className:"w-full"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:j.quality})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"imageInput",className:"block text-sm font-medium text-card-foreground mb-2",children:"Select Image File"}),(0,a.jsx)("input",{ref:x,type:"file",id:"imageInput",accept:"image/*",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary/30"})]}),(0,a.jsxs)("button",{async onClick(){const r=x.current;if(!r||!r.files||!r.files.length)return void alert("Please select an image file.");const t=r.files[0];m("Processing single image...");try{const r=(await s.e(937).then(s.bind(s,4937))).default,a={maxSizeMB:j.maxSizeMB,maxWidthOrHeight:j.maxWidthOrHeight,useWebWorker:!0,maxIteration:20,initialQuality:j.quality};if(await e(t,t.name)){const e=await r(t,a);m(r=>r+"<p>Compressed ".concat(t.name," (Original: ").concat((t.size/1024).toFixed(2)," KB, Compressed: ").concat((e.size/1024).toFixed(2)," KB)</p>"));const s=URL.createObjectURL(t),i=URL.createObjectURL(e),n={name:t.name,original:s,compressed:i,originalSize:t.size,compressedSize:e.size};f(e=>[...e,n]),g(!0);const o=URL.createObjectURL(e),d=document.createElement("a");d.href=o,d.download="compressed_".concat(t.name),document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(o),m(e=>e+"<p>Compressed image has been downloaded!</p>")}else m(e=>e+"<p>Skipped: ".concat(t.name," is not a valid image.</p>"))}catch(e){m(r=>r+"<p>Error compressing image: ".concat(e.message,"</p>")),alert("An error occurred while compressing the image.")}},className:"w-full flex items-center justify-center px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors duration-200",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Compress Image and Download"]})]}),n&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-muted rounded-md",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})})]})]})})}),p&&h.length>0&&(0,a.jsx)("section",{className:"py-8",children:(0,a.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c,{className:"h-6 w-6 text-primary mr-2"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-card-foreground",children:"Image Previews"})]}),(0,a.jsx)("button",{onClick(){return g(!1)},className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Hide Previews"})]}),(0,a.jsx)("div",{className:"space-y-6",children:h.map((e,r)=>(0,a.jsxs)("div",{className:"border border-border rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-card-foreground mb-4",children:e.name}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-muted-foreground",children:"Original"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(e.originalSize/1024).toFixed(2)," KB"]})]}),(0,a.jsx)("div",{className:"aspect-video bg-muted rounded-md overflow-hidden",children:(0,a.jsx)("img",{src:e.original,alt:"Original ".concat(e.name),className:"w-full h-full object-contain"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-muted-foreground",children:"Compressed"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(e.compressedSize/1024).toFixed(2)," KB",(0,a.jsxs)("span",{className:"ml-2 text-green-600 font-medium",children:["(",((e.originalSize-e.compressedSize)/e.originalSize*100).toFixed(1),"% smaller)"]})]})]}),(0,a.jsx)("div",{className:"aspect-video bg-muted rounded-md overflow-hidden",children:(0,a.jsx)("img",{src:e.compressed,alt:"Compressed ".concat(e.name),className:"w-full h-full object-contain"})})]})]})]},r))}),(0,a.jsx)("div",{className:"mt-6 flex justify-center",children:(0,a.jsx)("button",{onClick(){h.forEach(e=>{URL.revokeObjectURL(e.original),URL.revokeObjectURL(e.compressed)}),f([]),g(!1)},className:"px-4 py-2 text-sm text-muted-foreground hover:text-foreground border border-border rounded-md hover:bg-muted transition-colors",children:"Clear All Previews"})})]})})})]})}var a,i,n,o;s.r(r),s.d(r,{default(){return t},dynamic(){return m}}),a=s(7437),i=s(2265);const d=(0,(n=s(9763)).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),l=(0,n.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),c=(0,n.Z)("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);o=s(2735);const m="force-dynamic"},9763(e,r,s){"use strict";var t,a;s.d(r,{Z(){return i}}),t=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i=(e,r)=>{const s=(0,t.forwardRef)((s,i)=>{let{color:n="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:l,children:c,...m}=s;return(0,t.createElement)("svg",{ref:i,...a,width:o,height:o,stroke:n,strokeWidth:l?24*+d/+o:d,className:"lucide lucide-".concat((u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),...m},[...r.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...(Array.isArray(c)?c:[c])||[]]);var u});return s.displayName="".concat(e),s}},2735(e,r,s){"use strict";s.d(r,{Z(){return t}});const t=(0,s(9763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])}},e=>{var r=e(e.s=6289);_N_E=r}]);